{"version":3,"file":"presenters.js","sourceRoot":"","sources":["presenters.ts"],"names":[],"mappings":"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","sourcesContent":["import {CoreAppearance} from \"./appearance\";\nimport { HTMLComposite } from \"./properties\";\nimport {EventDispatcher} from \"./event-dispatcher\";\nimport {FrameRateEasings} from \"./framerate-easings\";\nimport {FramerateCollection,  Framerate } from \"../foundation\";\nimport { CoreTransitions } from \"./transitions\";\nimport type {\n  IAppearance,\n  IPresenters,\n  IPresenterProps,\n  IPresenter,\n  IPresenterCardProps,\n  IPresenterModalProps,\n  IAnimationStateCallback,\n  IPresenterEventScheme,\n  ModalPresenterEventScheme,\n  IPresentersEventScheme,\n  CardPresenterEventScheme,\n  IEventDispatcher,\n  OverlayPresenterEventScheme,\n  IModalPresenter,\n  ICardPresenter,\n  IOverlayPresenter,\n  IPresenterOverlayProps,\n  IPresenterAction,\n  IPresenterSize,\n  IPresenterAxes\n} from \"../types\";\n\n\n\n\n\nexport class Presenter<T extends IPresenterProps>\n\n  extends HTMLComposite<T>\n\n  implements IPresenter<T> {\n\n\n  anchor?: Node;\n\n  appearance: IAppearance;\n\n  transitionTimes: number = 360;\n\n  emitter: IEventDispatcher<IPresenterEventScheme> = new EventDispatcher<IPresenterEventScheme>();\n\n  #actions: IPresenterAction<T>[] = [];\n\n  #windowResizedListener: {\n\n    [K in IPresenterAxes]?: boolean\n\n  } = {};\n\n\n  constructor(overlay: HTMLElement, props: T) {\n\n    super(overlay, props)\n\n    this.appearance = new CoreAppearance();\n\n    this.initialize();\n\n  }\n\n\n  initialize(): this {\n\n    return this;\n\n  }\n\n\n  open(): this { return this; }\n\n\n  close(): this { return this; }\n\n\n  createAnchor() {\n\n    this.anchor = this.layer.cloneNode(true)\n\n    this.layer.parentElement?.replaceChild(this.anchor, this.layer)\n\n    return this;\n\n  }\n\n\n  removeAnchor() {\n\n    if (this.anchor) {\n\n      this.anchor.parentElement?.replaceChild(this.layer, this.anchor)\n\n    }\n\n    return this;\n\n  }\n\n\n  action(action: IPresenterAction<T>): this {\n\n    this.#actions.push(action)\n\n    return this;\n\n  }\n\n  bindAction(element: HTMLElement, name: string): this {\n\n    element.setAttribute('presenter:action', `${name}`)\n\n    return this;\n\n  }\n\n  actionsDetector(host?: HTMLElement) {\n\n    this.#actions.forEach(action =>\n\n      (host || this.properties.host)\n\n        ?.querySelectorAll(`[presenter\\\\:action=\"${action.name}\"]`)\n\n        .forEach(layer => {\n\n          layer.addEventListener(action.type || 'click', event =>\n\n            action.callback({ event, presenter: this, })\n\n          )\n\n        })\n\n    )\n\n    return this;\n\n  }\n\n  actions() { return this.#actions; }\n\n\n  size(size: IPresenterSize = 'medium'): number {\n\n    switch (size) {\n\n      case 'extra-small': return 320;\n\n      case 'small': return 480;\n\n      case 'large': return 960;\n\n      case 'extra-large': return 1280;\n\n    }\n\n    return 768;\n\n  }\n\n\n  setCanvasSize(size: IPresenterSize = 'medium') {\n\n    if (this.layers.canvas) {\n\n      const pixel = this.size(size);\n\n      this.layers.canvas.style.maxWidth = `${pixel}px`\n\n    }\n\n    return this;\n\n  }\n\n  setCanvasCentred(axe: IPresenterAxes = 'horizontal') {\n\n    if (this.layers.canvas && this.properties.host) {\n\n      const host = this.properties.host.getBoundingClientRect();\n\n      const shape = this.layers.canvas.getBoundingClientRect();\n\n\n      if (axe == 'horizontal' || axe == 'double') {\n\n        host.width = host.width || 1;\n\n        shape.width = shape.width || 1;\n\n        this.layers.canvas.style.left = `${(host.width - shape.width) / 2}px`\n\n      }\n\n\n      if (axe == 'vertical' || axe == 'double') {\n\n        host.height = host.height || 1;\n\n        shape.height = shape.height || 1;\n\n        this.layers.canvas.style.top = `${(host.height - shape.height) / 2}px`\n\n      }\n\n\n    }\n\n\n    if (!this.#windowResizedListener[axe]) {\n\n      window.addEventListener('resize', () => {\n\n        this.setCanvasCentred(axe)\n\n      })\n\n      this.#windowResizedListener[axe] = true;\n\n    }\n\n    return this;\n\n  }\n\n}\n\n\n\n/**\n * CardPresenter\n * @description Presentation en carte\n * @example\n * const card = new CardPresenter({\n *    host: document.querySelector<HTMLElement>('.sheet'),\n *    color: '#cacaca',\n *    opacity: 75,\n *    locked: false,\n *    transition: CoreTransitions.SlideFadedVertical,\n * })\n */\nexport class CardPresenter\n\n  extends Presenter<IPresenterCardProps>\n\n  implements ICardPresenter {\n\n  emitter: EventDispatcher<CardPresenterEventScheme> = new EventDispatcher();\n\n  initialize(): this {\n\n    this.appearance.sheet({\n\n      '&.presenter\\\\:card': {\n\n        boxShadow: '0 0 2rem rgba(0,0,0,.3)',\n\n        borderRadius: '1rem',\n\n        position: 'relative',\n\n        transition: `all ${this.transitionTimes || 360}ms ease-in-out`,\n\n        transform: 'scale(.96) ',\n\n      },\n\n      '.presenter\\\\:child': {\n\n        position: 'absolute',\n\n        bottom: '0',\n\n        left: '-1.5rem',\n\n        width: 'calc(100vw + 2vw )',\n\n        height: 'calc(100vh - 1rem)',\n\n        zIndex: '999',\n\n      },\n\n    }).mount()\n\n\n    this.properties.host = this.properties.host || document.body;\n\n    return this;\n  }\n\n\n  open(): this {\n\n    if (this.layer) {\n\n      this.properties.host?.classList.add(`${this.appearance.uid}`)\n\n      this.properties.host?.classList.add('presenter:card');\n\n      this.properties.host?.appendChild(this.layer);\n\n\n      (new FramerateCollection({\n\n        entries: [\n\n          (new Framerate({\n\n            from: screen.height * 10,\n\n            to: 0,\n\n            duration: this.transitionTimes || 360,\n\n            ease: FrameRateEasings.InSine,\n\n            frame: ({ value }) => {\n\n              if (this.layer) this.layer.style.top = `${value / 1000}rem`\n\n            }\n\n          })),\n\n        ],\n\n        parallel: true,\n\n      })).start()\n\n    }\n\n    return this;\n\n  }\n\n\n  close(): this {\n\n    if (this.layer) {\n\n      (new FramerateCollection({\n\n        entries: [\n\n          (new Framerate({\n\n            from: 0,\n\n            to: screen.height * 10,\n\n            duration: this.transitionTimes || 360,\n\n            ease: FrameRateEasings.InSine,\n\n            frame: ({ value }) => {\n\n              if (this.layer) this.layer.style.top = `${value / 1000}rem`\n\n            }\n\n          })),\n\n        ],\n\n        parallel: true,\n\n      })).start(() => {\n\n        const host = this.properties.host || document.body;\n\n        host.classList.remove(`${this.appearance.uid}`)\n\n        host.classList.remove('component:presenter-card')\n\n        this.layer?.classList.remove('presenter:child');\n\n      });\n\n    }\n\n    return this;\n\n  }\n\n}\n\n\n\n\n/**\n * ModalPresenter\n * @description Presentation en modal\n * @example\n * const modal = new CardPresenter({\n *    host: document.querySelector<HTMLElement>('.sheet'),\n * })\n */\nexport class ModalPresenter\n\n  extends Presenter<IPresenterModalProps>\n\n  implements IModalPresenter {\n\n\n  emitter = new EventDispatcher<ModalPresenterEventScheme>();\n\n  initialize(): this {\n\n    this.properties.host = this.properties.host || document.body;\n\n    this\n\n      .createLayer('shadow', 'div')\n\n      .createLayer('canvas', 'div')\n\n      .createLayer('face', 'div')\n\n      .createLayer('back', 'div')\n\n      ;\n\n    this.bindAction(this.layers.back, 'close')\n\n    this.appearance.sheet({\n\n      '&.presenter\\\\:modal': {\n\n        position: 'relative',\n\n      },\n\n      '.modal\\\\:canvas.modal\\\\:ready': {\n\n        display: 'flex',\n\n      },\n\n      '.modal\\\\:opened .modal\\\\:back': {\n\n        backgroundColor: this.properties.color || 'black',\n\n        opacity: `${(this.properties.opacity || 25) / 100}`,\n\n      },\n\n      '.modal\\\\:canvas': {\n\n        position: 'absolute',\n\n        overflow: 'hidden',\n\n        top: '0',\n\n        right: '0',\n\n        bottom: '0',\n\n        left: '0',\n\n        zIndex: '999',\n\n        maxWidth: '100vw',\n\n        maxHeight: '100vh',\n\n        width: '100%',\n\n        height: '100%',\n\n        display: 'none',\n\n        backdropFilter: !this.properties.blurred ? 'none' : 'blur(.5rem)',\n\n        alignItems: 'center',\n\n        justifyContent: 'center',\n\n        // transition: 'all 360ms ease-in-out'\n\n      },\n\n      '.modal\\\\:back': {\n\n        position: 'absolute',\n\n        overflow: 'hidden',\n\n        top: '0',\n\n        right: '0',\n\n        bottom: '0',\n\n        left: '0',\n\n        width: '100%',\n\n        height: '100%',\n\n        zIndex: '1',\n\n        backgroundColor: 'rgba(0,0,0,.0)',\n\n        transition: 'all 360ms ease-in-out'\n\n      },\n\n      '.modal\\\\:face': {\n\n        zIndex: '2',\n\n      },\n\n    }).mount()\n\n    this.action({\n\n      name: 'close',\n\n      callback: () => (!this.properties.locked) ? this.close() : undefined\n\n    })\n\n    return this;\n\n  }\n\n\n  open(): this {\n\n    console.log('Modal Host', this.properties.host)\n\n    if (this.layer) {\n\n      this.createAnchor()\n\n      this.properties.host?.classList.add(`${this.appearance.uid}`)\n\n      this.properties.host?.classList.add('presenter:modal')\n\n      this.layers.canvas.classList.add('modal:canvas')\n\n      this.layers.canvas.classList.add('modal:ready')\n\n      this.layers.back.classList.add('modal:back')\n\n      this.layers.face.classList.add('modal:face');\n\n\n      this.layers.canvas.appendChild(this.layers.back)\n\n      this.layers.canvas.appendChild(this.layers.face)\n\n      this.properties.host?.appendChild(this.layers.canvas);\n\n      this.layers.face.appendChild(this.layer)\n\n      this.properties.transition = this.properties.transition\n\n        || CoreTransitions.Fade\n\n        ;\n\n      this.#opener(() => {\n\n        this.layers.canvas.classList.add('modal:opened')\n\n        this.emitter.dispatch('open', this)\n\n        this.actionsDetector(this.layers.canvas);\n\n      });\n\n    }\n\n    return this;\n\n  }\n\n\n  #opener(callback?: IAnimationStateCallback) {\n\n    if (this.properties.transition && this.layers.canvas) {\n\n      this.properties.transition.startIn(this.layers.canvas, callback)\n\n    }\n\n    return this;\n\n  }\n\n\n  close(): this {\n\n    this.properties.transition = this.properties.transition || CoreTransitions.Fade\n\n    this.#closer(() => {\n\n      this.removeAnchor()\n\n      this.layers.canvas.classList.remove('modal:opened');\n\n      this.layers.shadow.appendChild(this.layers.canvas);\n\n      this.emitter.dispatch('close', this)\n\n    })\n\n    return this;\n\n  }\n\n\n  #closer(callback?: IAnimationStateCallback) {\n\n    this.layers.canvas.classList.remove('modal:opened')\n\n    if (this.properties.transition && this.layers.canvas) {\n\n      this.properties.transition.startOut(this.layers.canvas, callback)\n\n    }\n\n    return this;\n\n  }\n\n\n}\n\n\n\n/**\n * OverlayPresenter\n * @description Presentation en surcouche\n */\nexport class OverlayPresenter\n\n  extends Presenter<IPresenterOverlayProps>\n\n  implements IOverlayPresenter {\n\n  emitter: IEventDispatcher<OverlayPresenterEventScheme> = new EventDispatcher<OverlayPresenterEventScheme>();\n\n\n  initialize(): this {\n\n    this.createLayer('canvas', 'div');\n\n    this.appearance.sheet({\n\n      '&.presenter\\\\:overlay': {\n\n        position: 'relative',\n\n      },\n\n      '.overlay\\\\:canvas': {\n\n        position: 'fixed',\n\n        zIndex: '999',\n\n        width: '100%',\n\n        height: '100%',\n\n      },\n\n      // '&.presenter\\\\:overlay': {\n\n      //   boxShadow: '0 0 2rem rgba(0,0,0,.3)',\n\n      //   borderRadius: '1rem',\n\n      //   position: 'relative',\n\n      //   transition: `all ${this.transitionTimes || 360}ms ease-in-out`,\n\n      // },\n\n    }).mount()\n\n    return this;\n\n  }\n\n\n  setPosition() {\n\n    switch (this.properties.direction) {\n\n\n      case 'top':\n\n        this.layers.canvas.style.top = `0`;\n\n        this.setCanvasCentred('horizontal');\n\n        break;\n\n\n      case 'right':\n\n        this.layers.canvas.style.top = `0`;\n\n        this.layers.canvas.style.right = `0`;\n\n        break;\n\n\n      case 'left':\n\n        this.layers.canvas.style.top = `0`;\n\n        this.layers.canvas.style.left = `0`;\n\n        break;\n\n\n      case 'center':\n\n        this.setCanvasCentred('double');\n\n        break;\n\n      default:\n\n        this.layers.canvas.style.bottom = `0`;\n\n        this.setCanvasCentred('horizontal');\n\n        break;\n\n    }\n\n    return this;\n\n  }\n\n\n  open(): this {\n\n    if (this.layer) {\n\n      this.createAnchor();\n\n      this.properties.host?.classList.add(`${this.appearance.uid}`)\n\n      this.properties.host?.classList.add(`presenter:overlay`)\n\n      this.layers.canvas.classList.add('overlay:canvas')\n\n      this.properties.host?.appendChild(this.layers.canvas)\n\n      this.layers.canvas.appendChild(this.layer)\n\n      this.setPosition();\n\n      this.setCanvasSize(this.properties.size);\n\n      this.emitter.dispatch('open', this)\n\n    }\n\n    return this;\n\n  }\n\n\n  close(): this {\n\n    this.removeAnchor();\n\n    this.emitter.dispatch('close', this)\n\n    return this;\n\n  }\n\n}\n\n\n\n/**\n * Presenters\n * @description Controlleur de pr√©sentation dans un context\n * @example\n * const presenter = Presenters.context( ... )\n */\nexport class Presenters<P extends IPresenterProps> implements IPresenters<P> {\n\n  #current: IPresenter<P>;\n\n  emitter = new EventDispatcher<IPresentersEventScheme<P>>()\n\n  status: boolean = false;\n\n  get presenter(): IPresenter<P> {\n\n    return this.#current;\n\n  }\n\n  constructor(presenter: IPresenter<P>) {\n\n    this.#current = presenter;\n\n    this.initialize();\n\n  }\n\n  initialize() {\n\n    this.#current.emitter.listen('open', () => {\n\n      document.body.style.overflow = 'hidden';\n\n      document.body.scrollTo({ top: 0 });\n\n    })\n\n    this.#current.emitter.listen('close', () => {\n\n      document.body.style.removeProperty('overflow');\n\n    })\n\n    return this;\n\n  }\n\n  open() {\n\n    this.#current.layer?.classList.add('presenter:child');\n\n    this.#current.open();\n\n    this.emitter.dispatch('open', this)\n\n    this.status = true;\n\n\n    return this;\n\n  }\n\n  close(): this {\n\n    this.#current.layer?.classList.remove('presenter:child');\n\n    this.#current.close();\n\n    this.emitter.dispatch('close', this)\n\n    this.status = false;\n\n    return this;\n\n  }\n\n  render() {\n\n    return this;\n\n  }\n\n  static context<P extends IPresenterProps>(presenter: IPresenter<P>) {\n\n    return (new this<P>(presenter)).render();\n\n  }\n\n}\n"]}